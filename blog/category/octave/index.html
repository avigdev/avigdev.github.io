

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Avi Gozolchiani אבי גוזולצני</title>
  <meta name="description" content="Environmental Physics at Ben Gurion University">
  <meta name="author" content="Avi Gozolchiani">

  <link rel="alternate" type="application/rss+xml" title="RSS 2.0"
        href="/blog/feed/">
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0"
        href="/blog/feed/atom/">

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon"
        href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld"
        href="/css/handheld.css?v=1">
  <link rel="stylesheet"
        href="/css/pygments_murphy.css">

  <script
    src="/js/libs/modernizr-1.7.min.js">
  </script>

  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Architects+Daughter'  rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>


</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
  <div id="header" class="header_gradient theme_font">
    <h1>
      <a href="/">
        Avi Gozolchiani אבי גוזולצני
      </a>
    </h1>
    <h2>Environmental Physics at Ben Gurion University</h2>
  </div>
  <div id="navigation" class="grid_12">
    
    
    <ul class="theme_font">
      <li>
        
        <a href="/" class="">Home</a>
      </li>
      <li>
        
        <a href="/publications" class="">Publications</a>
      </li>
      <li>
        
        <a href="/blog" class="selected">Blog</a>
      </li>
      <li>
        
        <a href="/blog/archive/" class="">Archives</a>
      </li>
      <li>
        
        <a href="/contact.html" class="">Contact</a>
      </li>
      <li>
        <a href="http://sourceforge.net/u/avigdev/profile/" class="">Software</a>
      </li>
    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  



<article>
  <div class="blog_post">
    <header>
      <div id="matlab-subplots-packed-densely-together"></div>
      <h2 class="blog_post_title"><a href="/blog/20150111/2015-01-11-matlab-subplots-packed-densely-together-html/" rel="bookmark" title="Permanent Link to matlab subplots packed densely together">matlab subplots packed densely together</a></h2>
      <p><small><span class="blog_post_date">January 11, 2015 at 07:15 AM</span> | categories: 
        <span class="blog_post_categories"><a href='/blog/category/xmgr/'>xmgr</a>, <a href='/blog/category/matlab/'>matlab</a>, <a href='/blog/category/octave/'>octave</a>, <a href='/blog/category/gmt/'>gmt</a></span>
        | <a href="http://avigdev.github.io/blog/20150111/2015-01-11-matlab-subplots-packed-densely-together-html#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
During significant portion of my grad-school I had to travel a lot. I therefore couldn't rely on hooking to the university matlab license, so I searched for free alternatives. While you could use a lot of good projects, such as <a href="https://www.gnu.org/software/octave/">octave</a> to crunch your numbers, it seems to me that making beautiful figures is not so easy.
</p>

<p>
I got used to plotting with the excellent packages of <a href="http://gmt.soest.hawaii.edu">GMT</a> . I even wrote <a href="https://sourceforge.net/projects/octgmt/">some little octave wrapper functions</a> around GMT, since it's easy to get intimidated by their too elaborate man pages. You could still try them out, though GMT has been working lately on an official <a href="http://gmt.soest.hawaii.edu/projects/gmt-matlab-octave-api">matlab API</a> for you (they do have mature API for c++/Fortran). I didn't try it myself, yet. Another option is good old <a href="http://plasma-gate.weizmann.ac.il/Grace/">xmgr</a> . Both of them produce great imagery, but they have their limitations at times. 
</p>

<p>
The one point where matlab excels is <i>better set of default parameters</i>. You don't have to worry so much about the line thicknesses, page width etc., as much as in the other options mentioned above. The cons side, obviously, is when you don't want the defaults. Easy things like packing your subplots close are not so easy in matlab. It's of course, nevertheless, still possible. Mainly with axis/plot handles.
</p>

<p>
Here's how you do it : 
first let's create our figs:
</p>
<div class="org-src-container">

<pre class="src src-matlab"><span class="linenr">1: </span>nsubs=3;
<span class="linenr">2: </span><span style="color: #932092;">for</span> <span style="color: #a0522d;">isub</span>=<span style="color: #008b8b;">1:nsubs</span>
<span class="linenr">3: </span> subplot(nsubs,1,isub);
<span class="linenr">4: </span> plot(rands(3,100)');
<span class="linenr">5: </span> <span style="color: #228b22;">set</span>(<span style="color: #a0522d;">gca</span>,<span style="color: #8b2252;">'fontsize'</span>,16);
<span class="linenr">6: </span><span style="color: #932092;">end</span> <span style="color: #b22222;">% for </span><span style="color: #b22222;">i</span><span style="color: #b22222;">=</span><span style="color: #b22222;">1:nsubs</span>
<span class="linenr">7: </span>savefigs(<span style="color: #8b2252;">'nopack_subplots'</span>,<span style="color: #8b2252;">'save demo of packed graphs'</span>,[]);
</pre>
</div>

<p>
that's the result: 
</p>


<div id="fig:nopack" class="figure">
<p><img src="/media/2015-01-11-matlab-subplots-packed-densely-together/nopack_subplots.png" width="80%"> 
</p>
<p><span class="figure-number">Figure 1:</span> before</p>
</div>

<p>
now , lets pack them:
</p>
<div class="org-src-container">

<pre class="src src-matlab"><span class="linenr"> 1: </span>packing_const=0.06
<span class="linenr"> 2: </span><span style="color: #932092;">for</span> <span style="color: #a0522d;">isub</span>=<span style="color: #008b8b;">1:nsubs</span>
<span class="linenr"> 3: </span> h=subplot(nsubs,1,isub);p = <span style="color: #228b22;">get</span>(<span style="color: #a0522d;">h</span>, <span style="color: #8b2252;">'pos'</span>);
<span class="linenr"> 4: </span> <span style="color: #932092;">if</span>(isub<span style="color: #228b22;">&lt;</span>nsubs)
<span class="linenr"> 5: </span>  <span style="color: #228b22;">set</span>(<span style="color: #a0522d;">gca</span>,<span style="color: #8b2252;">'fontsize'</span>,16,<span style="color: #8b2252;">'XTickLabelMode'</span>, <span style="color: #8b2252;">'Manual'</span>,<span style="color: #8b2252;">'XTickLabel'</span>, []);
<span class="linenr"> 6: </span> <span style="color: #932092;">else</span> <span style="color: #b22222;">%  if(isub&lt;nsubs)</span>
<span class="linenr"> 7: </span>  <span style="color: #228b22;">set</span>(<span style="color: #a0522d;">gca</span>,<span style="color: #8b2252;">'fontsize'</span>,16);
<span class="linenr"> 8: </span> <span style="color: #932092;">end</span> <span style="color: #b22222;">%  if(isub&lt;nsubs) ... else ...</span>
<span class="linenr"> 9: </span> <span style="color: #228b22;">set</span>(<span style="color: #a0522d;">h</span>,<span style="color: #8b2252;">'pos'</span>,[p(<span style="color: #a0522d;">1</span>) p(<span style="color: #a0522d;">2</span>) p(<span style="color: #a0522d;">3</span>) p(<span style="color: #a0522d;">4</span>)<span style="color: #228b22;">+</span>packing_const]);
<span class="linenr">10: </span><span style="color: #932092;">end</span> <span style="color: #b22222;">% for </span><span style="color: #b22222;">isub</span><span style="color: #b22222;">=</span><span style="color: #b22222;">1:nsubs</span>
<span class="linenr">11: </span>savefigs(<span style="color: #8b2252;">'pack_subplots'</span>,<span style="color: #8b2252;">'save demo of packed graphs'</span>,[]);
</pre>
</div>

<p>
that's our "after" exhibit : 
</p>


<div id="fig:pack" class="figure">
<p><img src="/media/2015-01-11-matlab-subplots-packed-densely-together/pack_subplots.png" width="80%"> 
</p>
<p><span class="figure-number">Figure 2:</span> after</p>
</div>

<p>
The "savefigs" function is non standard. Its aim is to save images in fig/eps/png formats at once, and generate README file and a mat file on the fly, with consistent names. 
</p>
<p>Copyright (C) 2015 by Avi Gozolchiani. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2015/01/11/matlab-subplots-packed-densely-together.org">org-mode source</a><p>

    </div>
  </div>
</article>



  <div class="after_post"><a href="http://avigdev.github.io/blog/20150111/2015-01-11-matlab-subplots-packed-densely-together-html#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  



<article>
  <div class="blog_post">
    <header>
      <div id="ncdump-h-for-matlab"></div>
      <h2 class="blog_post_title"><a href="/blog/20141230/2014-12-30-ncdump-h-for-matlab-html/" rel="bookmark" title="Permanent Link to ncdump -h for matlab">ncdump -h for matlab</a></h2>
      <p><small><span class="blog_post_date">December 30, 2014 at 01:16 PM</span> | categories: 
        <span class="blog_post_categories"><a href='/blog/category/matlab/'>matlab</a>, <a href='/blog/category/octave/'>octave</a></span>
        | <a href="http://avigdev.github.io/blog/20141230/2014-12-30-ncdump-h-for-matlab-html#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      




<p>
I launch "ncdump -h" many times during my workflow. It gives you all the meta-data you need for netcdf files, without the hassle of opening a more serious program like <a href="http://ferret.pmel.noaa.gov/Ferret/">ferret</a> . I figured out that I need the same for mat files. You will need <a href="https://www.gnu.org/software/octave/">octave</a> to make it work&#x2026;
</p>

<div class="org-src-container">

<pre class="src src-matlab"><span class="linenr">1: </span>#<span style="color: #228b22;">!/</span>usr<span style="color: #228b22;">/</span>local<span style="color: #228b22;">/</span>bin<span style="color: #228b22;">/</span>octave <span style="color: #228b22;">-</span>q
<span class="linenr">2: </span>whos(<span style="color: #8b2252;">'-file'</span>,argv(){1})
</pre>
</div>
<p>Copyright (C) 2015 by Avi Gozolchiani. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2014/12/30/ncdump--h-for-matlab.org">org-mode source</a><p>

    </div>
  </div>
</article>



  <div class="after_post"><a href="http://avigdev.github.io/blog/20141230/2014-12-30-ncdump-h-for-matlab-html#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
  <section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
<div class="sidebar_item">
<a class="twitter-timeline" href="https://twitter.com/avigdev" data-widget-id="549128905232109568">Tweets by @avigdev</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
<br />
    <!-- <div id="on_twitter"> -->
    <!--   <div id="tweets"></div> -->
    <!--   <a href="http://search.twitter.com/search?q=example" style="float: right">See more tweets</a> -->
    <!-- </div> -->
  </section>
  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/20150111/2015-01-11-matlab-subplots-packed-densely-together-html/">matlab subplots packed densely together</a></li>
      <li><a href="/blog/20150107/2015-1-7-create-a-document-from-your-figures-html/">create a document from your figures</a></li>
      <li><a href="/blog/20141230/2014-12-30-ncdump-h-for-matlab-html/">ncdump -h for matlab</a></li>
      <li><a href="/blog/20141228/2014-12-28-simplify-slurm-and-qsub-html/">simplify slurm and qsub</a></li>
    </ul>
  </section>
  <section>
    <h1 class="post_header_gradient theme_font">Latest sourceforge repos</h1>
    <div id="sourceforge">
    <aside>

      <a href="http://sourceforge.net/u/avigdev/profile/" style="float: right">@avigdev</a> on sourceforge : 
    <lr>
    </lr> 
</aside>
    
    </div>
  </section>
</aside>


          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
        <a href="http://avigdev.disqus.com/latest.rss">Comments RSS Feed</a>.
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2015
        Avi Gozolchiani
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-58132730-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <script>
  (function() {
      var links = document.getElementsByTagName('a');
      var query = '?';
      for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
              query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
      }
      document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/avigdev/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>

  </body>
</html>






